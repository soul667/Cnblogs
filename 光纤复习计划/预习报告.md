# 1 zxx
# 2 ss
# 3 设计原理以及过程
## 3.1 硬件原理
### 3.1.1 点阵屏
[略]
### 3.1.2 FPGA
[略]
### 3.1.3 自制模块

## 3.2 软件原理
### 3.2.1 SNx4HC595 
SNx4HC595 器件是 8 位串行输入、并行输出移位寄存器。它们具有 2V 至 6V 的宽工作电流，高电流三态输出可驱动多达 15 个 LSTTL 负载。该器件具有 80μA（最大）ICC 的低功耗。此外，这些器件还具有 1 μA（最大值）的低输入电流和 5 V 时 ±6 mA 的输出驱动。
### 3.2.2 vivado 开发流程
### 3.2.3 使用`vscode` 插件加快开发流程
### 3.2.4 modelsim仿真

Modelsim是一款常用的HDL仿真软件，支持Verilog、VHDL等语言。Modelsim可以独立仿真自己编写的代码，也可以仿真调用Vivado或其他软件生成的IP核。Modelsim的仿真流程一般包括以下几个步骤：
- 创建工程，添加源文件和仿真文件
- 编译源文件，生成仿真库
- 启动仿真，选择顶层模块
- 添加波形，配置仿真参数
- 运行仿真，观察波形和输出
Modelsim可以通过图形界面或者命令行来操作，也可以通过Tcl脚本来实现自动化仿真。在这里我们仅仅用其基础功能来观看仿真波形以及输出，因为有时候`vivado` 的仿真加载速度过慢。
### 3.2.5 vivado仿真

Vivado是Xilinx公司推出的一款综合设计套件，可以用来开发基于FPGA的应用。Vivado除了提供综合、布局、布线等功能，也提供了仿真功能，可以用来验证设计的正确性和性能。Vivado的仿真功能可以分为两种：

- RTL仿真：在综合之前，对设计的源代码进行仿真，检查逻辑功能和时序问题
- Post-synthesis仿真：在综合之后，对综合后的网表进行仿真，检查综合结果和时序问题

Vivado的仿真功能可以通过图形界面或者命令行来操作，也可以通过Tcl脚本来实现自动化仿真。Tcl脚本可以在Vivado的命令窗口中输入，也可以保存为.tcl文件，在Vivado中执行。

### 3.2.6 输出调试
在验证调试过程中，如果有时候能在终端打印一些信息是非常有帮助的。一般来说，你可以快速地得知某些变量的值来验证你的程序是否有问题。

[Verilog语法](https://so.csdn.net/so/search?q=Verilog%E8%AF%AD%E6%B3%95&spm=1001.2101.3001.7020)给我们提供了4个系统函数，都可以在终端显示变量信息，根据其使用方法可以划分为3类
【待填写，yuque中写好】
并且`vivido` `modelsim`都提供了对上述函数的支持，更让人感到惊喜的是，在vscode的插件`Digital IDE`中，只要运行`sm.v`就可以在vscode的命令行中立刻得到结果！这在`modelsim`和`vivado`里面是几乎不可能实现的，也就意味着我们在波形图仿真之前，可以先丢弃臃肿的外壳，用这个插件观察输出。（并且我们在vscode中还安装了`error lens`插件，只需要我们ctrl+s代码文件之后，就可以得到代码中那些地方出错并且在后面注明错误原因，在点击编译该文件后，报错信息也比vivado中的更加人性化，大大地提高了开发效率）
### 3.2.7 TCL脚本

Tcl是一种通用的脚本语言，可以用来控制和扩展各种应用程序的功能。Tcl在FPGA设计和验证中广泛使用，可以用来操作Modelsim、Vivado等软件，实现自动化的编译、仿真、综合、布局、布线等流程。Tcl的语法和特点包括以下几个方面：

- Tcl是一种解释型的语言，不需要编译，可以直接执行
- Tcl是一种动态类型的语言，不需要声明变量的类型，可以根据上下文自动推断
- Tcl是一种命令式的语言，每一行都是一个命令，命令由空格分隔的参数组成
- Tcl是一种可扩展的语言，可以通过定义新的命令或加载扩展库来增加功能
- Tcl是一种嵌入式的语言，可以作为其他语言或程序的接口，实现交互和控制

Tcl脚本可以在Tcl解释器中输入，也可以保存为.tcl或.do文件，在其他软件中执行。Tcl脚本可以实现各种复杂的逻辑和功能，提高设计和验证的灵活性和效率。

### 3.2.8 IP核调试

IP核是一种预先设计好的功能模块，可以用来实现一些常用的或复杂的功能，如算术运算、通信协议、图像处理等。IP核可以由第三方提供，也可以由设计者自己创建。IP核可以提高设计的重用性和可靠性，降低设计的难度和成本。IP核的调试是指在设计和验证过程中，检查和修改IP核的功能和性能，确保IP核能够正确地工作，满足设计的需求。IP核的调试方法包括以下几种：

- 静态调试：在综合或布局布线之前，对IP核的源代码进行分析，检查语法、逻辑、时序等问题，使用仿真软件进行RTL仿真或Post-synthesis仿真，观察波形和输出，找出错误和不足
- 动态调试：在综合或布局布线之后，将IP核下载到FPGA芯片中，使用逻辑分析仪或示波器等仪器，观察信号和输出，找出错误和不足
- 混合调试：在综合或布局布线之后，将IP核下载到FPGA芯片中，使用JTAG或其他接口，与仿真软件或上位机进行通信，观察信号和输出，找出错误和不足

IP核的调试需要根据不同的IP核的特点和功能，选择合适的调试方法和工具，进行有效的测试和修改，提高IP核的质量和性能。

### 3.2.9 ROM IP核

ROM是一种只读存储器，可以用来存储一些固定的数据，如字符、图像、音频等。ROM IP核是一种可以在FPGA中实现ROM功能的IP核，可以由设计者自己创建，也可以由软件生成。ROM IP核的创建和使用方法包括以下几个步骤：

- 创建ROM IP核，指定ROM的大小、位宽、地址、数据等参数，生成ROM的源代码和仿真文件
- 编写ROM的数据文件，可以是二进制、十六进制、文本等格式，存储ROM的内容，如字符、图像、音频等数据
- 调用ROM IP核，将ROM IP核的源代码和数据文件添加到工程中，使用ROM IP核的端口和信号，实现对ROM的读取和使用
- 测试ROM IP核，使用仿真软件或FPGA芯片，对ROM IP核进行仿真或下载，观察ROM的输出和效果，检查ROM的功能和性

# 4 自拟实验步骤
## 4.1 软件环境配置
## 4.2 实现基本功能
> 实现基本的FPGA IO输出的字符显示以及字符模块的输出显示。
### 4.2.1 编写`base_write.v`以及`top.v` 
### 4.2.2 仿真
编写`sm.v`，设置基本仿真环境以及参数。
### 4.2.3 调试
观察`$display` 输出
### 4.2.4 下载
如结果不满足预期，则继续该过程。

## 4.3 实现基本字符滚动
### 4.3.1 编写`flow.v`以及`top.v` 
### 4.3.2 仿真
### 4.3.3 调试

### 4.3.4 下载
如结果不满足预期，则继续该过程。
## 4.4 实现IP核RAM的字符滚动
## 4.5 实现级联
# 5 自拟思考题及答案
# 6 元件表